{"version":3,"sources":["webpack:///./src/page/admin/EventPool/index.tsx","webpack:///./src/page/admin/index.tsx"],"names":["this","pool","subscribe","type","fn","push","public","forEach","itemFn","args","console","log","sub","addObserver","ob","notify","item","update","index","children","data","Proxy","name","age","get","target","key","value","set","proxy","Reflect","my","eventPool","EventPool","subject","Subject","ob1","Observer","ob2","ob12","a","b"],"mappings":"qHAOA,aAEI,aACIA,KAAKC,KAAO,GAyBpB,OAvBI,YAAAC,UAAA,SAAUC,EAAYC,GACV,IAAAH,EAAA,KAAAA,KACLA,EAAKE,GACJF,EAAKE,GAAME,KAAKD,IAGhBH,EAAKE,GAAQ,GACbF,EAAKE,GAAME,KAAKD,KAGxB,YAAAE,OAAA,SAAOH,G,IAAY,wDACP,IAAAF,EAAA,KAAAA,KACLA,EAAKE,GACJF,EAAKE,GAAMI,SAAQ,SAACC,GAChBA,EAAM,aAAIC,MAIdC,QAAQC,IAAI,kBAKxB,EA5BA,GAgCA,aAEA,aACIX,KAAKY,IAAK,GAWd,OATA,YAAAC,YAAA,SAAYC,GACRd,KAAKY,IAAIP,KAAKS,IAElB,YAAAC,OAAA,WACIf,KAAKY,IAAIL,SAAQ,SAACS,GACdA,EAAKC,aAIb,EAdA,GAeA,aAEI,WAAYC,GACRlB,KAAKkB,MAAQA,EAKrB,OAHI,YAAAD,OAAA,WACIP,QAAQC,IAAI,QAAQX,KAAKkB,MAAM,SAEvC,EARA,GCRe,UAxBD,SAAC,G,IAACC,EAAA,EAAAA,SACNC,EAlBe,IAAIC,MAFT,CAACC,KAAK,GAAGC,IAAI,IAEM,CAC3BC,IAAG,SAACC,EAAOC,EAAIC,GACf,MAAO,IAEPC,IAAG,SAACH,EAAOC,EAAIC,EAAME,GAMjB,OALAnB,QAAQC,IAAIc,GAKLK,QAAQF,IAAIH,EAAOC,EAAIC,EAAME,MAShDnB,QAAQC,IAAIS,EAAKW,GAAK,IACtB,IAAMC,EAAY,IAAIC,EAChBC,EAAU,IAAIC,EACdC,EAAM,IAAIC,EAAS,GACnBC,EAAM,IAAID,EAAS,GACnBE,EAAO,IAAIF,EAAS,IAY1B,OAXAH,EAAQrB,YAAYuB,GACpBF,EAAQrB,YAAYyB,GACpBJ,EAAQrB,YAAY0B,GACpBL,EAAQnB,SACRiB,EAAU9B,UAAU,OAAM,SAACsC,EAASC,GAChC/B,QAAQC,IAAI,OAAO6B,EAAEC,MAEzBT,EAAU9B,UAAU,OAAM,SAACsC,EAASC,GAChC/B,QAAQC,IAAI,OAAO6B,EAAEC,MAEzBT,EAAU1B,OAAO,MAAM,EAAE,GAClB,6B,QAEFa,GAAY","file":"Admin.js","sourcesContent":["\ninterface PoolProp {\n    [propName: string]:Array<any>;\n}\n/**\n * 发布-订阅模式\n */\nclass EventPool {\n    pool:PoolProp;\n    constructor(){\n        this.pool = {};\n    }\n    subscribe(type:string,fn:any){\n        const { pool } = this;\n        if(pool[type]){\n            pool[type].push(fn);\n\n        }else{\n            pool[type] = [];\n            pool[type].push(fn);\n        }\n    }\n    public(type:string,...args:any[]){\n        const { pool } = this;\n        if(pool[type]){\n            pool[type].forEach((itemFn)=> {\n                itemFn(...args);\n            });\n\n        }else{\n            console.log(\"该类型事件未被任何对象订阅\");\n        }\n\n    }\n\n}\n/**\n * 观察者模式\n */\nclass Subject {\n    sub:any;\nconstructor(){\n    this.sub =[];\n}\naddObserver(ob:any){\n    this.sub.push(ob);\n}\nnotify(){\n    this.sub.forEach((item:any)=>{\n        item.update();\n\n    })\n}\n}\nclass Observer {\n    index:number;\n    constructor(index:number){\n        this.index = index;\n    }\n    update(){\n        console.log(\"观察者模式\",this.index,\"更新数据\");\n    }\n}\nexport { EventPool,Subject,Observer }\n","import  React from 'react';\nimport {EventPool,Subject,Observer} from './EventPool';\nconst validateProperty = () => {\n    const obj:any = {name:23,age:45};\n   \n        const newProxy = new Proxy(obj,{\n            get(target,key,value){\n            return '';\n            },\n            set(target,key,value,proxy){\n                console.log(target);\n\n                if(key === 'my'){\n                   // throw new Error('该key 为保留字段不可以设置！');\n                }\n                return Reflect.set(target,key,value,proxy); \n\n            }\n        });\n    return newProxy;\n}\n\nconst Admin = ({children}:any) => {\n    const data = validateProperty();\n    console.log(data.my = 23);\n    const eventPool = new EventPool();\n    const subject = new Subject();\n    const ob1 = new Observer(1);\n    const ob2 = new Observer(2);\n    const ob12 = new Observer(12);\n    subject.addObserver(ob1);\n    subject.addObserver(ob2);\n    subject.addObserver(ob12);\n    subject.notify();\n    eventPool.subscribe('add',(a:number,b:number)=> {\n        console.log(\"发布订阅\",a+b);\n    });\n    eventPool.subscribe('add',(a:number,b:number)=> {\n        console.log(\"发布订阅\",a-b);\n    });\n    eventPool.public('add',5,4);\n    return <div>\n        管理员管理\n        {children || \"Welcome to your Inbox\"}\n    </div>\n}\nexport default Admin;"],"sourceRoot":""}